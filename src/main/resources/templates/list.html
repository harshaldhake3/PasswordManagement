<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="fragments/layout :: layout('Your Credentials', ~{::body})">
<body>
<h3>Your stored credentials</h3>
<div class="d-flex flex-wrap gap-2 mb-3">
    <a class="btn btn-success" th:href="@{/credentials/add}">Add new</a>
    <a class="btn btn-secondary" th:href="@{/credentials/search}">Advanced search</a>
    <a class="btn btn-info" th:href="@{/credentials/export}">Export CSV</a>
    <div class="ms-auto d-flex gap-2">
        <input id="tableFilter" class="form-control" placeholder="Filter by site or username">
        <select id="pageSize" class="form-select" style="width:120px">
            <option>10</option><option selected>25</option><option>50</option><option>100</option>
        </select>
    </div>
</div>
<div class="table-responsive">
<table class="table table-hover align-middle" data-table>
    <thead>
        <tr>
            <th data-sort="text">Site</th>
            <th data-sort="text">Login</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        <tr th:each="c : ${creds}">
            <td>
              <div class="fw-semibold" th:text="${c.site}">example.com</div>
              <span class="badge badge-muted">id: <span th:text="${c.id}">1</span></span>
            </td>
            <td>
              <code th:text="${c.loginUsername}">alice</code>
              <button class="btn btn-sm btn-outline-secondary ms-1" data-copy th:attr="data-copy=${c.loginUsername}">Copy</button>
            </td>
            <td class="text-nowrap">
                <a class="btn btn-sm btn-primary" th:href="@{|/credentials/view/${c.id}|}">View</a>
                <a class="btn btn-sm btn-warning" th:href="@{|/credentials/edit/${c.id}|}">Edit</a>
                <button type="button" class="btn btn-sm btn-outline-secondary notes-btn ms-1">Notes</button>
                <a class="btn btn-sm btn-danger" th:href="@{|/credentials/delete/${c.id}|}" data-delete>Delete</a>
            </td>
        </tr>
    </tbody>
</table>
</div>
<nav class="mt-3 d-flex justify-content-between align-items-center">
  <div><span id="rowsInfo" class="text-muted small"></span></div>
  <ul id="pager" class="pagination mb-0"></ul>
</nav>
</body>
</html>
